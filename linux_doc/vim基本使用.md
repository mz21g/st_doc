## vim环境设置

*修改~/.vimrc（默认不存在，需要自行手动创建）*

```bash
vim ~/.vimrc
set hlsearch # 高亮度反白
set backspace=2 # 可随时用退格键删除
set ruler # 可显示最后一行的状态
set showmode # 左下角那一行的状态
set nu # 在每一行的最前面显示行号
set nonu # 取消行号显示
set bg=dark # 显示不同的底色色调
syntax on # 进行语法检验，颜色显示

# 将VIM修改tab为2个空格
set ts=2
set expandtab
set autoindent
```

## 查找

* 在normal模式下按 **/** 即可进入查找模式，输入要查找的字符串并按下回车，Vim会跳转到第一个匹配。按下 **n** 查找下一个，按下 **N** 查找上一个。
* 在查找模式下，加入 **\c** 表示大小写不敏感查找，**\C**  表示大小写敏感查找
* 按下 * 即可查找光标所在单词

## 替换

```bash
# 例如: :%s/foo/bar/g会在全局范围(%)查找foo并替换为bar，所有出现都会被替换（g）。
:{作用范围}s/{目标}/{替换}/{替换标志}
```

*作用范围:*

```bash
# 当前行:
:s/foo/bar/g
# 全文:
:%s/foo/bar/g
# 2-11行:
:5,12s/foo/bar/g
# 当前行与接下来两行:
:.,+2s/foo/bar/g
```

*替换标志:*

* **g** 表示全局替换
* **空 **替换标志表示只替换从光标位置开始，目标的第一次出现
* **i** 表示大小写不敏感查找， **I **表示大小写敏感查找
* **c** 表示需要确认，回车后会出现提示，**y**表示替换，**n**表示不替换、**a**表示替换所有、q表示退出查找模式，**i**表示替换当前位置并退出。 **^E** 与 **^Y** 表示光标移动的快捷键

## 撤销

* u - 撤销上一步的操作
* Ctrl + r - 恢复上一步被撤销的操作

## 分屏功能
#### 分屏启动vim

1. 使用大写的O参数来垂直分屏

```bash
vim -On file1 file2...
```

1. 使用小写的o参数来水平分屏

```bash
vim -on file1 file2...
```

tips：n是数字，表示分成几个屏

#### 移动光标

Vi中的光标键是h, j, k, l，要在各个屏间切换，只需要先按一下Ctrl+W

## 复制文件中多行到另一个文件

1. 打开多个文件

```bash
vim a.txt b.txt
# 或者 vim *.txt
```

2. 文件间切换

```bash
:n 切换到下一个文件
:wn 保存再切换
```

### 实例

*复制 a.tx t文件的1到50行到 b.txt 文件的第300行*

1. 打开 a.txt 和 b.txt 文件

```bash
vim a.txt b.txt
```

2. 复制 a.txt 文件的1到50行（假设当前文件为 a.txt ）

```bash
:1,50y
```

3. 切换到 b.txt 文件，到第300行，然后粘贴

```bash
:n
:300
按一下[ESC]，然后按[p]
```

4. 保存并退出

```bash
:wq
```



